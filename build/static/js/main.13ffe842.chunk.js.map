{"version":3,"sources":["Components/Notoken.jsx","Components/Message.jsx","Components/ThemeSelector.jsx","Components/themes.js","Components/Messages.jsx","Components/App.jsx","index.js"],"names":["NoToken","props","className","getTimeRemainingString","message","timeCreated","Date","valueOf","elapsedMilliseconds","now","elapsedMinutes","Math","floor","elapsedHours","Message","title","body","onClick","handleDelete","Themeselector","colors","this","CurrentTheme","map","c","changeTheme","style","backgroundColor","Component","themes","Messages","state","messages","current_theme","getMessages","a","token","axios","get","headers","user_auth_token","response","data","error","console","log","setState","t","key","document","documentElement","setProperty","localStorage","setItem","JSON","stringify","initTheme","getItem","parse","id","_id","post","oldMessages","index","findIndex","m","splice","length","App","undefined","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.13ffe842.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nconst NoToken = (props) => {\n    return (\n        <div className = \"no-token\">\n            <h1 className = \"main-user-message\">Please Log in to see and create messages!</h1>\n        </div>\n    )\n}\n\nexport default NoToken;\n","import React, { Component } from 'react'\n\n\nconst Message = (props) => {\n    const { message } = props\n\n    return ( \n        <div className = \"message\">\n            <h2>{message.title}</h2>\n            <p className = \"message-body\">{message.body}</p>\n            <p className = \"message-time-remaining\">{getTimeRemainingString(message)}</p>\n            <button className =\"message-delete\" onClick={() =>{props.handleDelete(message)}}>Delete</button>\n        </div>\n    );\n}\n\n\nfunction getTimeRemainingString(message) {\n    const timeCreated = new Date(message.timeCreated).valueOf();\n    const millisecondsInMinute = 1000 * 60\n    const millisecondsInHour = 1000 * 60 * 60 \n    const MillisecondsInDay = millisecondsInHour * 24\n    \n    const elapsedMilliseconds = Date.now() - timeCreated\n    const elapsedMinutes = Math.floor( elapsedMilliseconds / millisecondsInMinute)\n\n    if (elapsedMinutes < 60) return `${elapsedMinutes}m ago`\n    const elapsedHours =  Math.floor(elapsedMinutes / 60)\n    return `${elapsedHours}h ago`\n\n}   \n\nexport default Message;\n","import React, { Component } from 'react'\n\nexport default class Themeselector extends Component {\n    render() {\n        const { colors } = this.props;\n        if (!this.props.CurrentTheme) return null\n        return (\n            <div className =\"theme-selector\">\n                {colors.map(c => <div \n                                    key={c[\"name\"]}\n                                    onClick = {() => {this.props.changeTheme(c)}}\n                                    style={{backgroundColor: c[\"--message-background\"]}}\n                                    className = {(c[\"name\"] === this.props.CurrentTheme[\"name\"]) ? \"color-option-selected\" : \"color-option\"}>\n                                    </div>)}\n            </div>\n        )\n    }\n    \n\n}\n\n\n\n","const themes = [\n    {\"--message-background\": \"#FFFFFF\",\n    \"--background\": \"#F0F0F0\",\n    \"--text-color\": \"#000000\",\n    \"--shadow-color\": \"#000000\",\n     \"name\": \"theme1\"},\n\n     \n     {\"--message-background\": \"#BA0D41\",\n     \"--background\": \"#F21D5D\",\n     \"--text-color\": \"#FFFFFF\",\n     \"--shadow-color\": \"#0e0e0e\",\n     \"name\": \"theme2\"},\n     \n     {\"--message-background\": \"#F08000\",\n     \"--background\": \"#ED8A18\",\n     \"--text-color\": \"#FFFFFF\",\n     \"--shadow-color\": \"#000000\",\n      \"name\": \"theme3\"},\n\n     {\"--message-background\": \"#F2C00A\",\n     \"--background\": \"#FCC80D\",\n     \"--text-color\": \"#111111\",\n     \"--shadow-color\": \"#000000\",\n      \"name\": \"theme4\"},\n\n     {\"--message-background\": \"#1E60E6\",\n     \"--background\": \"#3577FC\",\n     \"--text-color\": \"#FFFFFF\",\n     \"--shadow-color\": \"#0e0e0e\",\n      \"name\": \"theme5\"},\n     \n    {\"--message-background\": \"#3E0EC2\",\n    \"--background\": \"#4E17E6\",\n    \"--text-color\": \"#FFFFFF\",\n    \"--shadow-color\": \"#0e0e0e\",\n     \"name\": \"theme6\"},\n\n\n    {\"--message-background\": \"#1f1f1f\",\n    \"--background\": \"#2D2D2D\",\n    \"--text-color\": \"#E0E0E0\",\n    \"--shadow-color\": \"#000000\",\n     \"name\": \"theme7\"}\n\n\n]\n\nexport default themes ","import React, { Component } from 'react'\nimport Message from \"./Message\"\nimport axios from \"axios\"\nimport Themeselector from \"./ThemeSelector\"\nimport themes from \"./themes\"\n\n\nexport default class Messages extends Component {\n    state = {\n        messages: [],\n        current_theme: null\n    }\n\n\n\n    async componentDidMount() {\n        this.getMessages()\n        await this.initTheme()\n        this.changeTheme(this.state.current_theme)\n    }\n    render() {\n        if (this.state.messages.length === 0) {\n            return (<h1 className = \"main-user-message\">No messages for today!</h1>)\n        }\n\n        return (\n            <div className = \"rendered-wrapper\">\n            <Themeselector colors = {themes} \n                            CurrentTheme = {this.state.current_theme}\n                            changeTheme={this.changeTheme}/>\n            <div className=\"messages-wrapper\">\n                {this.state.messages.map(m => <Message key={m.title + Date.now()} message={m} handleDelete={this.handleDelete}/>)}\n            </div>\n            </div>\n        )\n    }\n    \n    getMessages = async () => {\n        const { token } = this.props\n        const response = await axios.get(\"https://mitm-api.herokuapp.com/api/messages/recent\", {headers: {user_auth_token: token}})\n        if (response.data.error) return console.log(response.data.error)\n        this.setState({messages : response.data})\n    }\n\n    changeTheme = (t) => {\n        for (let key in t)\n            document.documentElement.style.setProperty(key, t[key])\n        localStorage.setItem(\"CurrentTheme\", JSON.stringify(t))\n        this.setState({current_theme: t})\n    }\n\n    initTheme = () => {\n        if (localStorage.getItem(\"CurrentTheme\") != null) {\n            this.setState({current_theme: JSON.parse(localStorage.getItem(\"CurrentTheme\"))})\n        }\n        else {\n            this.setState({current_theme: themes[0]})\n        }\n\n    }\n\n    handleDelete = async (message) => {\n        const id = message._id\n        const { token } = this.props\n        const response = await axios.post(\"https://mitm-api.herokuapp.com/api/messages/delete/\" + id, {}, {headers: {user_auth_token: token}});\n        const { data } = response \n\n        if (data.error) return console.log(data.error)\n\n        const oldMessages = [...this.state.messages]\n        const index = oldMessages.findIndex(m => m._id === data._id)\n        oldMessages.splice(index,1)\n        this.setState({messages : oldMessages})\n    }\n\n}","import React, { Component } from 'react'\nimport NoToken from \"./Notoken\"\nimport Messages from \"./Messages\"\nimport Themeselector from \"./ThemeSelector\"\nexport default class App extends Component {\n    state = {\n        token: undefined\n    }\n    componentDidMount() {\n        this.setState({token: localStorage.getItem(\"user_auth_token\")})\n    }\n\n\n    render() {\n        if (!this.state.token) {\n            return (<NoToken />)\n        }\n        return (\n            <Messages token={this.state.token} />\n        )\n        \n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./App.css\"\nimport App from \"./Components/App\"\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}