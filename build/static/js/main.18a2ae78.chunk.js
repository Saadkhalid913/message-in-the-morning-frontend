(this.webpackJsonpmessage=this.webpackJsonpmessage||[]).push([[0],{24:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=a(18),o=a.n(s),c=(a(24),a(3)),u=a(4),i=a(6),m=a(5),h=a(0),l=function(e){return Object(h.jsx)("div",{className:"no-token",children:Object(h.jsx)("h1",{className:"main-user-message",children:"Please Log in to see and create messages!"})})},g=a(7),d=a.n(g),b=a(9);function p(e){var t=new Date(e.timeCreated).valueOf(),a=Date.now()-t,n=Math.floor(a/6e4);if(n<60)return"".concat(n,"m ago");var r=Math.floor(n/60);return"".concat(r,"h ago")}var j=function(e){var t=e.message;return Object(h.jsxs)("div",{className:"message",children:[Object(h.jsx)("h2",{children:t.title}),Object(h.jsx)("p",{className:"message-body",children:t.body}),Object(h.jsx)("p",{className:"message-time-remaining",children:p(t)})]})},f=a(19),k=a.n(f),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.colors;return this.props.CurrentTheme?Object(h.jsx)("div",{className:"theme-selector",children:t.map((function(t){return Object(h.jsx)("div",{onClick:function(){e.props.changeTheme(t)},style:{backgroundColor:t["--message-background"]},className:t.name===e.props.CurrentTheme.name?"color-option-selected":"color-option"},t.name)}))}):null}}]),a}(n.Component),v=[{"--message-background":"#FFFFFF","--background":"#F0F0F0","--text-color":"#000000","--shadow-color":"#000000",name:"theme1"},{"--message-background":"#748CAB","--background":"#1D2D44","--text-color":"#F0EBD8","--shadow-color":"#000000",name:"theme2"},{"--message-background":"#7D9E94","--background":"#A7D9A0","--text-color":"#ECF5E9","--shadow-color":"#000000",name:"theme3"},{"--message-background":"#6984FA","--background":"#072BAD","--text-color":"#E1E7F5","--shadow-color":"#000000",name:"theme4"},{"--message-background":"#690896","--background":"#6B0382","--text-color":"#CBD7F7","--shadow-color":"#210E36",name:"theme5"},{"--message-background":"#02BF77","--background":"#97E6D8","--text-color":"#DDEDEC","--shadow-color":"#000000",name:"theme6"},{"--message-background":"#1f1f1f","--background":"#2D2D2D","--text-color":"#E0E0E0","--shadow-color":"#000000",name:"theme7"}],x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={messages:[],current_theme:null},e.getMessages=Object(b.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.token,t.next=3,k.a.get("http://localhost:3001/api/messages/recent",{headers:{user_auth_token:a}});case 3:if(!(n=t.sent).data.error){t.next=6;break}return t.abrupt("return",console.log(n.data.error));case 6:e.setState({messages:n.data});case 7:case"end":return t.stop()}}),t)}))),e.changeTheme=function(t){for(var a in t)document.documentElement.style.setProperty(a,t[a]);localStorage.setItem("CurrentTheme",JSON.stringify(t)),e.setState({current_theme:t})},e.initTheme=function(){null!=localStorage.getItem("CurrentTheme")?e.setState({current_theme:JSON.parse(localStorage.getItem("CurrentTheme"))}):e.setState({current_theme:v[0]})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getMessages(),e.next=3,this.initTheme();case 3:this.changeTheme(this.state.current_theme);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 0===this.state.messages.length?Object(h.jsx)("h1",{className:"main-user-message",children:"No messages for today!"}):Object(h.jsxs)("div",{className:"rendered-wrapper",children:[Object(h.jsx)(O,{colors:v,CurrentTheme:this.state.current_theme,changeTheme:this.changeTheme}),Object(h.jsx)("div",{className:"messages-wrapper",children:this.state.messages.map((function(e){return Object(h.jsx)(j,{message:e},e.title+Date.now())}))})]})}}]),a}(n.Component),w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={token:void 0},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({token:localStorage.getItem("user_auth_token")})}},{key:"render",value:function(){return this.state.token?Object(h.jsx)(x,{token:this.state.token}):Object(h.jsx)(l,{})}}]),a}(n.Component);o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.18a2ae78.chunk.js.map