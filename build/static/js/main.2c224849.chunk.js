(this.webpackJsonpmessage=this.webpackJsonpmessage||[]).push([[0],{24:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(18),o=n.n(s),c=(n(24),n(3)),u=n(4),i=n(6),m=n(5),h=n(0),l=function(e){return Object(h.jsx)("div",{className:"no-token",children:Object(h.jsx)("h1",{children:"Please Log in to see and create messages!"})})},g=n(7),d=n.n(g),b=n(9);function p(e){return e.timeToDelete}var j=function(e){var t=e.message;return Object(h.jsxs)("div",{className:"message",children:[Object(h.jsx)("h2",{children:t.title}),Object(h.jsx)("p",{className:"message-body",children:t.body}),Object(h.jsx)("p",{className:"message-timeRemaining",children:p(t)})]})},f=n(19),k=n.n(f),O=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.colors;return this.props.CurrentTheme?Object(h.jsx)("div",{className:"theme-selector",children:t.map((function(t){return Object(h.jsx)("div",{onClick:function(){e.props.changeTheme(t)},style:{backgroundColor:t["--message-background"]},className:t.name===e.props.CurrentTheme.name?"color-option-selected":"color-option"},t.name)}))}):null}}]),n}(r.Component),x=[{"--message-background":"#FFFFFF","--background":"#F0F0F0","--text-color":"#000000","--shadow-color":"#000000",name:"theme1"},{"--message-background":"#748CAB","--background":"#1D2D44","--text-color":"#F0EBD8","--shadow-color":"#000000",name:"theme2"},{"--message-background":"#7D9E94","--background":"#A7D9A0","--text-color":"#ECF5E9","--shadow-color":"#000000",name:"theme3"},{"--message-background":"#6984FA","--background":"#072BAD","--text-color":"#E1E7F5","--shadow-color":"#000000",name:"theme4"},{"--message-background":"#690896","--background":"#6B0382","--text-color":"#CBD7F7","--shadow-color":"#210E36",name:"theme5"},{"--message-background":"#02BF77","--background":"#97E6D8","--text-color":"#DDEDEC","--shadow-color":"#000000",name:"theme6"},{"--message-background":"#1f1f1f","--background":"#2D2D2D","--text-color":"#E0E0E0","--shadow-color":"#000000",name:"theme7"}],v=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={messages:[],current_theme:null},e.getMessages=Object(b.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.token,t.next=3,k.a.get("http://localhost:3001/api/messages/recent",{headers:{user_auth_token:n}});case 3:if(!(r=t.sent).data.error){t.next=6;break}return t.abrupt("return",console.log(r.data.error));case 6:e.setState({messages:r.data});case 7:case"end":return t.stop()}}),t)}))),e.changeTheme=function(t){for(var n in t)document.documentElement.style.setProperty(n,t[n]);localStorage.setItem("CurrentTheme",JSON.stringify(t)),e.setState({current_theme:t})},e.initTheme=function(){null!=localStorage.getItem("CurrentTheme")?(console.log(1),e.setState({current_theme:JSON.parse(localStorage.getItem("CurrentTheme"))})):(console.log(2),e.setState({current_theme:x[0]})),console.log("Setting theme to: ",e.state.current_theme)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getMessages(),e.next=3,this.initTheme();case 3:this.changeTheme(this.state.current_theme);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 0===this.state.messages.length?Object(h.jsx)("h1",{children:"No messages for today!"}):Object(h.jsxs)("div",{className:"rendered-wrapper",children:[Object(h.jsx)(O,{colors:x,CurrentTheme:this.state.current_theme,changeTheme:this.changeTheme}),Object(h.jsx)("div",{className:"messages-wrapper",children:this.state.messages.map((function(e){return Object(h.jsx)(j,{message:e},e.title+Date.now())}))})]})}}]),n}(r.Component),y=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={token:void 0},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({token:localStorage.getItem("user_auth_token")})}},{key:"render",value:function(){return this.state.token?Object(h.jsx)(v,{token:this.state.token}):Object(h.jsx)(l,{})}}]),n}(r.Component);o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.2c224849.chunk.js.map