(this.webpackJsonpmessage=this.webpackJsonpmessage||[]).push([[0],{24:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(19),o=n.n(s),c=(n(24),n(4)),u=n(5),i=n(7),l=n(6),h=n(0),m=function(e){return Object(h.jsx)("div",{className:"no-token",children:Object(h.jsx)("h1",{className:"main-user-message",children:"Please Log in to see and create messages!"})})},d=n(3),g=n.n(d),p=n(8);function b(e){var t=new Date(e.timeCreated).valueOf(),n=Date.now()-t,a=Math.floor(n/6e4);if(a<60)return"".concat(a,"m ago");var r=Math.floor(a/60);return"".concat(r,"h ago")}var j=function(e){var t=e.message;return Object(h.jsxs)("div",{className:"message",children:[Object(h.jsx)("h2",{children:t.title}),Object(h.jsx)("p",{className:"message-body",children:t.body}),Object(h.jsx)("p",{className:"message-time-remaining",children:b(t)}),Object(h.jsx)("button",{onClick:function(){e.handleDelete(t)},children:"Delete"})]})},f=n(10),k=n.n(f),O=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.colors;return this.props.CurrentTheme?Object(h.jsx)("div",{className:"theme-selector",children:t.map((function(t){return Object(h.jsx)("div",{onClick:function(){e.props.changeTheme(t)},style:{backgroundColor:t["--message-background"]},className:t.name===e.props.CurrentTheme.name?"color-option-selected":"color-option"},t.name)}))}):null}}]),n}(a.Component),v=[{"--message-background":"#FFFFFF","--background":"#F0F0F0","--text-color":"#000000","--shadow-color":"#000000",name:"theme1"},{"--message-background":"#748CAB","--background":"#1D2D44","--text-color":"#F0EBD8","--shadow-color":"#000000",name:"theme2"},{"--message-background":"#7D9E94","--background":"#A7D9A0","--text-color":"#ECF5E9","--shadow-color":"#000000",name:"theme3"},{"--message-background":"#6984FA","--background":"#072BAD","--text-color":"#E1E7F5","--shadow-color":"#000000",name:"theme4"},{"--message-background":"#690896","--background":"#6B0382","--text-color":"#CBD7F7","--shadow-color":"#210E36",name:"theme5"},{"--message-background":"#02BF77","--background":"#97E6D8","--text-color":"#DDEDEC","--shadow-color":"#000000",name:"theme6"},{"--message-background":"#1f1f1f","--background":"#2D2D2D","--text-color":"#E0E0E0","--shadow-color":"#000000",name:"theme7"}],x=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={messages:[],current_theme:null},e.getMessages=Object(p.a)(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.token,t.next=3,k.a.get("http://localhost:3001/api/messages/recent",{headers:{user_auth_token:n}});case 3:if(!(a=t.sent).data.error){t.next=6;break}return t.abrupt("return",console.log(a.data.error));case 6:e.setState({messages:a.data});case 7:case"end":return t.stop()}}),t)}))),e.changeTheme=function(t){for(var n in t)document.documentElement.style.setProperty(n,t[n]);localStorage.setItem("CurrentTheme",JSON.stringify(t)),e.setState({current_theme:t})},e.initTheme=function(){null!=localStorage.getItem("CurrentTheme")?e.setState({current_theme:JSON.parse(localStorage.getItem("CurrentTheme"))}):e.setState({current_theme:v[0]})},e.handleDelete=function(){var t=Object(p.a)(g.a.mark((function t(n){var a,r,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n._id,r=e.props.token,t.next=4,k.a.post("http://localhost:3001/api/messages/delete/"+a,{},{headers:{user_auth_token:r}});case 4:s=t.sent,console.log(s.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getMessages(),e.next=3,this.initTheme();case 3:this.changeTheme(this.state.current_theme);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return 0===this.state.messages.length?Object(h.jsx)("h1",{className:"main-user-message",children:"No messages for today!"}):Object(h.jsxs)("div",{className:"rendered-wrapper",children:[Object(h.jsx)(O,{colors:v,CurrentTheme:this.state.current_theme,changeTheme:this.changeTheme}),Object(h.jsx)("div",{className:"messages-wrapper",children:this.state.messages.map((function(t){return Object(h.jsx)(j,{message:t,handleDelete:e.handleDelete},t.title+Date.now())}))})]})}}]),n}(a.Component),D=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={token:void 0},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({token:localStorage.getItem("user_auth_token")})}},{key:"render",value:function(){return this.state.token?Object(h.jsx)(x,{token:this.state.token}):Object(h.jsx)(m,{})}}]),n}(a.Component);o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.95f258c6.chunk.js.map